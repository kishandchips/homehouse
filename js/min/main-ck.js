!function($){var e={vars:{},init:function(){this.triggers(),this.megatron.init(),this.sidebar.init(),this.map.init(),$(window).resize(function(){e.megatron.resize(),e.sidebar.resize()}),$(".equal-height").matchHeight()},triggers:function(){var e=$("#contact");return e.length?($(".feedback-toggle").on("click",function(){e.toggleClass("feedback-visible")}),void $(".feedback-overlay").on("click",function(t){e.toggleClass("feedback-visible")})):!1},map:{vars:{},init:function(){var t=$("#map");return t.length?void $(window).on("load",function(){e.map.loaded()}):!1},loaded:function(){function e(){t=o.getCenter()}var t=new google.maps.LatLng(51.516098,-.156354),i={zoom:15,disableDefaultUI:!0,scrollwheel:!1,center:t,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]}]},n=$("#map"),o=new google.maps.Map(n[0],i),s=new google.maps.Marker({position:t,map:o,icon:url.template+"/img/pin.png"}),t;google.maps.event.addDomListener(o,"idle",function(){e()}),google.maps.event.addDomListener(window,"resize",function(){o.setCenter(t)})}},isotope:function(){var e=$("#cedric");if(!e.length)return!1;filterTop=$("#filters").offset().top,$("#filters button").on("click",function(){$("html,body").animate({scrollTop:filterTop})});var t=$("#isotope").imagesLoaded(function(){t.isotope({itemSelector:".item",masonry:{columnWidth:".grid-sizer"}})});$("#filters").on("click","button",function(){var e=$(this).attr("data-filter");t.isotope({filter:e})})},megatron:{init:function(){this.resize(),$("#nav .mob-button").on("click",function(){$("#nav > ul.menu").toggleClass("open")})},resize:function(){var e=$("#header");$(window).width()<800?(e.removeClass("mega"),e.addClass("mobile")):(e.removeClass("mobile"),e.addClass("mega")),$("html").hasClass("no-touch")&&$("#header").hasClass("mega")&&$("nav .equal-height").matchHeight()}},sidebar:{element:$(".sidebar"),init:function(){var t=e.sidebar.element;return t.length?(e.sidebar.content=$(".inner-content"),e.sidebar.container=t.parent(".container"),this.listeners(),void this.resize()):!1},listeners:function(){$(".inner-content .mob-button").on("click",function(){$("body").toggleClass("sidebar-visible")})},resize:function(){var t=e.sidebar.element;if(!t.length)return!1;var i=$(".sidebar").outerHeight(),n=$(".inner-content").outerHeight();i>n?e.sidebar.container.css("height",i):e.sidebar.container.css("height",n)}}};$(window).load(function(){$(".flexslider").flexslider({animation:"slide"}),e.isotope()}),e.init()}(jQuery);